(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Fl1J:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return j})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return d}));var s=n("2mhZ"),i=n("7+OI"),c=n("LRne"),r=n("lJxs"),a=n("BbUs"),o=n("fXoL");const b={cancelUncompleted:!0,insideZone:!1};function p(t=b){return(e,n,a)=>{Object(s.y)(e,a);const o=a.value,b=n.toString();return a.value=function(...e){const n=this;let a=null;const p=s.b.getRepositoryByInstance(n),u=p.operations;let d=u[b];const O=p.stateMeta,j=Object(s.r)(o);if(!d){const e=Object(s.a)(o),n=Object(s.e)({statePath:O.path,methodName:b,argumentsNames:e,argumentRegistry:j});d=u[b]={type:n,options:{cancelUncompleted:t.cancelUncompleted}},O.actions[d.type]=[{type:d.type,options:d.options,fn:d.type}]}s.b.ensureMappedState(O).instance[d.type]=()=>{var b;return t.insideZone?null===(b=s.c.ngZone)||void 0===b||b.run(()=>{a=o.apply(n,e)}):a=o.apply(n,e),Object(i.a)(a)?Object(c.a)(null).pipe(Object(r.a)(()=>a)):a};const l=s.b.createAction(d,e,j),y=s.c.store.dispatch(l);return Object(i.a)(a)?Object(s.h)(y,a):a},a}}function u(t){return e=>{const n=Object(s.q)(e),i=Object(s.s)(e);if(!n.name||!i)throw new Error("@Persistence should be add before decorator @State and @StateRepository");return new Proxy(e,{construct(e,n){const s=Reflect.construct(e,n),c=Object(a.c)(i,s,t);return Object(a.d)(c),s}})}}function d(){return t=>{const e=Object(s.q)(t);if(!e.name)throw new Error("@StateRepository should be add before decorator @State");Object(s.j)(t,e),function(t,e,n){Object.defineProperties(t.prototype,{name:{enumerable:!0,configurable:!0,value:e.name},initialState:{enumerable:!0,configurable:!0,get:()=>Object(s.l)(n)},context:Object(s.i)(t)})}(t,e,Object(s.f)(t)),Object(s.k)(t)}}function O(t=300){let e=null;return(n,i,c)=>{const r=c.value;return c.value=function(...n){var i;Object(s.g)(),null===(i=s.c.ngZone)||void 0===i||i.runOutsideAngular(()=>{window.clearTimeout(e),e=window.setTimeout(()=>{const t=r.apply(this,n);t&&Object(o.Y)()&&console.warn("WARNING: If you use asynchronous actions `@Debounce() @DataAction()` the return result type should only void instead:",t)},t)})},c}}function j(t){return(e,n,i)=>{const c=t.trim();if(!c)throw new Error("Payload name should be initialized");Object(s.o)(e,n).createPayloadType(c,n,i)}}function l(t){return(e,n,i)=>{const c=t.trim();if(!c)throw new Error("Argument name should be initialized");Object(s.o)(e,n).createArgumentName(c,n,i)}}function y(){return(t,e,n)=>{Object(s.z)(t,e);const i=n.get;return n.get=function(...t){const e=Object(s.m)(this),n=null==e?void 0:e.get(i);if(null==n?void 0:n.isObservable)return n.value;if(!n||n.sequenceId!==Object(s.t)()){e.delete(i);const n=i.apply(this,t);return e.set(i,{value:n,sequenceId:Object(s.t)(),isObservable:Object(s.x)(n)}),n}return n.value},n}}},jvVo:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return d}));var s=n("mrSG"),i=n("fXoL"),c=n("Fl1J"),r=n("2mhZ"),a=n("XpPX"),o=n("HDdC"),b=n("lJxs");let p=(()=>{class t{constructor(){this.isInitialised=!1,this.isBootstrapped=!1,this._dirty=!0}get dirty(){return this._dirty}set dirty(t){this._dirty=t}ngxsOnChanges(t){var e;this.dirty&&this.isBootstrapped&&(this.dirty=!1,null===(e=this.ngxsDataDoCheck)||void 0===e||e.call(this))}ngxsOnInit(){this.isInitialised=!0}ngxsAfterBootstrap(){var t;this.isBootstrapped=!0,this.dirty&&(this.dirty=!1,null===(t=this.ngxsDataDoCheck)||void 0===t||t.call(this))}markAsDirtyAfterReset(){var t;this.dirty=!0,null===(t=this.ngxsDataAfterReset)||void 0===t||t.call(this)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),t})(),u=(()=>{class t extends p{get snapshot(){return Object(r.p)(this.getState())}get ctx(){return Object(r.n)(this.context)}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}}return t.\u0275fac=function(e){return j(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",Object),Object(s.b)("design:paramtypes",[])],t.prototype,"snapshot",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("patchValue")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"patchState",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("stateValue")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"setState",null),Object(s.a)([Object(c.b)(),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[]),Object(s.b)("design:returntype",void 0)],t.prototype,"reset",null),t})(),d=(()=>{class t extends p{get snapshot(){return Object(r.p)(this.getState())}get ctx(){return Object(r.n)(this.context)}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}}return t.\u0275fac=function(e){return l(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",Object),Object(s.b)("design:paramtypes",[])],t.prototype,"snapshot",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("patchValue")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"patchState",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("stateValue")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"setState",null),Object(s.a)([Object(c.b)(),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[]),Object(s.b)("design:returntype",void 0)],t.prototype,"reset",null),t})(),O=(()=>{class t extends p{constructor(){super(...arguments),this.primaryKey="id",this.comparator=null}get snapshot(){return Object(r.p)(this.getState())}get ids(){return this.snapshot.ids}get entities(){return this.snapshot.entities}get ids$(){return this.state$.pipe(Object(b.a)(t=>t.ids))}get entities$(){return this.state$.pipe(Object(b.a)(t=>t.entities))}get ctx(){return Object(r.n)(this.context)}setComparator(t){return this.comparator=t,this}dispatch(t){return this.ctx.dispatch(t)}getState(){return this.ctx.getState()}selectId(t){var e;return null===(e=t)||void 0===e?void 0:e[this.primaryKey]}selectOne(t){var e;return null!==(e=this.snapshot.entities[t])&&void 0!==e?e:null}selectAll(){const t=this.getState();return t.ids.map(e=>t.entities[e])}reset(){this.setEntitiesState(this.initialState),this.markAsDirtyAfterReset()}addOne(t){this.addEntityOne(t)}addMany(t){this.addEntitiesMany(t)}setOne(t){this.setEntityOne(t)}setMany(t){this.setEntitiesMany(t)}setAll(t){this.setEntitiesAll(t)}updateOne(t){this.updateEntitiesMany([t])}updateMany(t){this.updateEntitiesMany(t)}upsertOne(t){this.upsertEntitiesMany([t])}upsertMany(t){this.upsertEntitiesMany(t)}removeOne(t){this.removeEntitiesMany([t])}removeMany(t){this.removeEntitiesMany(t)}removeByEntity(t){const e=this.selectId(t);this.removeEntitiesMany([e])}removeByEntities(t){const e=[];for(const n of t){const t=this.selectId(n);e.push(t)}this.removeEntitiesMany(e)}removeAll(){this.setEntitiesState(this.initialState)}sort(t){this.comparator=null!=t?t:this.comparator,Object(r.v)(this.comparator)?console.warn("You must set the compare function before sorting."):this.setEntitiesState(this.getState())}addEntityOne(t){const e=this.getState(),n=this.selectIdValue(t);n in e.entities||this.setEntitiesState(Object.assign(Object.assign({},e),{ids:[...e.ids,n],entities:Object.assign(Object.assign({},e.entities),{[n]:t})}))}addEntitiesMany(t){const e=this.getState(),n={},s=[];for(const i of t){const t=this.selectIdValue(i);t in e.entities||t in n||(s.push(t),n[t]=i)}s.length&&this.setEntitiesState(Object.assign(Object.assign({},e),{ids:[...e.ids,...s],entities:Object.assign(Object.assign({},e.entities),n)}))}setEntitiesAll(t){const e=this.getState(),n={},s=[];for(const i of t){const t=this.selectIdValue(i);t in n||(s.push(t),n[t]=i)}this.setEntitiesState(Object.assign(Object.assign({},e),{ids:s,entities:n}))}setEntityOne(t){const e=this.getState(),n=this.selectIdValue(t);this.setEntitiesState(Object.assign(Object.assign({},e),n in e.entities?{entities:Object.assign(Object.assign({},e.entities),{[n]:t})}:{ids:[...e.ids,n],entities:Object.assign(Object.assign({},e.entities),{[n]:t})}))}setEntitiesMany(t){for(const e of t)this.setEntityOne(e)}updateEntitiesMany(t){const e=this.getState();if(0===(t=t.filter(t=>t.id in e.entities)).length)return;const n=this.generateKeyMap(e),s=Object.assign({},e.entities);for(const i of t){const t=this.updateOrigin(s,i),e=this.selectIdValue(t);e!==i.id&&(delete n[i.id],delete s[i.id]),n[i.id]=e,s[e]=t}this.setEntitiesState(Object.assign(Object.assign({},e),{ids:e.ids.map(t=>{var e;return null!==(e=n[t])&&void 0!==e?e:t}),entities:s}))}upsertEntitiesMany(t){const e=this.getState(),n=[],s=[];for(const i of t){const t=this.selectIdValue(i);t in e.entities?n.push({id:t,changes:i}):s.push(i)}this.updateMany(n),this.addMany(s)}removeEntitiesMany(t){const e=this.getState(),n=this.generateKeyMap(e),s=Object.assign({},e.entities);for(const i of t)i in s&&(delete n[i],delete s[i]);this.setEntitiesState(Object.assign(Object.assign({},e),{ids:e.ids.filter(t=>t in n),entities:s}))}setEntitiesState(t){const e=this.sortKeysByComparator(t.ids,t.entities);this.ctx.setState(Object.assign(Object.assign({},t),{ids:e,entities:t.entities}))}sortKeysByComparator(t,e){if(Object(r.v)(this.comparator))return t;const n=t.slice(),s=this.comparator;return"function"==typeof s?n.sort((t,n)=>s(e[t],e[n])):this.sortByComparatorOptions(n,s,e)}sortByComparatorOptions(t,e,n){switch(null==e?void 0:e.sortByOrder){case"asc":return t.sort((t,s)=>Object(a.c)(null==e?void 0:e.sortBy,n[t],n[s]));case"desc":return t.sort((t,s)=>Object(a.d)(null==e?void 0:e.sortBy,n[t],n[s]));default:return Object(i.Y)()&&console.warn(`Invalid --\x3e { sortByOrder: "${null==e?void 0:e.sortByOrder}" } not supported!`),t}}generateKeyMap(t){return t.ids.reduce((t,e)=>(t[e]=e,t),{})}updateOrigin(t,e){return Object.assign(Object.assign({},t[e.id]),e.changes)}selectIdValue(t){const e=this.selectId(t);return Object(r.v)(e)&&Object(i.Y)()&&console.warn(`The entity passed to the 'selectId' implementation returned ${e}.`,"You should probably provide your own 'selectId' implementation.","The entity that was passed:",t,"The current `selectId` implementation: (entity: V): K => entity.id"),e}}return t.\u0275fac=function(e){return y(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac}),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",Object),Object(s.b)("design:paramtypes",[])],t.prototype,"snapshot",null),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",Array),Object(s.b)("design:paramtypes",[])],t.prototype,"ids",null),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",Object),Object(s.b)("design:paramtypes",[])],t.prototype,"entities",null),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",o.a),Object(s.b)("design:paramtypes",[])],t.prototype,"ids$",null),Object(s.a)([Object(c.a)(),Object(s.b)("design:type",o.a),Object(s.b)("design:paramtypes",[])],t.prototype,"entities$",null),Object(s.a)([Object(c.b)(),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[]),Object(s.b)("design:returntype",void 0)],t.prototype,"reset",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entity")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"addOne",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entities")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"addMany",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entity")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"setOne",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entities")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"setMany",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entities")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"setAll",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("update")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"updateOne",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("updates")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"updateMany",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entity")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"upsertOne",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entities")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"upsertMany",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("id")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"removeOne",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("ids")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"removeMany",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entity")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"removeByEntity",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("entities")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Array]),Object(s.b)("design:returntype",void 0)],t.prototype,"removeByEntities",null),Object(s.a)([Object(c.b)(),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[]),Object(s.b)("design:returntype",void 0)],t.prototype,"removeAll",null),Object(s.a)([Object(c.b)(),Object(s.c)(0,Object(c.e)("comparator")),Object(s.b)("design:type",Function),Object(s.b)("design:paramtypes",[Object]),Object(s.b)("design:returntype",void 0)],t.prototype,"sort",null),t})();const j=i.Xb(u),l=i.Xb(d),y=i.Xb(O)},mrSG:function(t,e,n){"use strict";function s(t,e,n,s){var i,c=arguments.length,r=c<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r}function i(t,e){return function(n,s){e(n,s,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c}))}}]);